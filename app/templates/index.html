{% extends "base.html" %}
{% block content %}
<h2>All Films</h2>
<form method="get" action="/search">
    <input type="text" name="q" placeholder="Search films...">
    <select name="genre">
        <option value="">All genres</option>
        {% for g in genres %}
        <option value="{{g}}">{{g}}</option>
        {% endfor %}
    </select>
    <button type="submit">Search</button>
</form>
<ul>
    {% for film in films %}
    <li>
        <a href="/films/{{film.id}}">{{film.title}}</a>
        ({{film.genre}})
    </li>
    {% endfor %}
</ul>

<h2>Upcoming Sessions</h2>
<ul>
    {% for session in sessions %}
    <li>
        {{session.start_time.strftime('%Y-%m-%d %H:%M')}} - 
        <a href="/films/{{session.film_id}}">{{session.film_title}}</a>
        (Hall: {{session.hall_id}})
    </li>
    {% endfor %}
</ul>
{% endblock %}